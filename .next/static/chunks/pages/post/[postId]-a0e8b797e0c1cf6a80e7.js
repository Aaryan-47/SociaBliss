(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{36103:function(t,e,n){"use strict";n.r(e);var r=n(87757),o=n.n(r),a=n(92137),i=n(67294),u=n(9669),s=n.n(u),c=n(62286),l=n(95712),p=n(35766),d=n(73626),f=n(76763),h=n(65382),m=n(60345),Z=n(86778),_=n(60139),g=n(21309),k=n(41664),v=n(67037),w=n(41715),x=n(94953),C=n.n(x),y=n(26048),I=i.createElement;function b(t){var e=t.post,n=t.errorLoading,r=t.user;if(n)return I(y.L$,null);var o=(0,i.useState)(e.likes),a=o[0],u=o[1],s=a.length>0&&a.filter((function(t){return t.user===r._id})).length>0,c=(0,i.useState)(e.comments),x=c[0],C=c[1];return I(l.Z,{text:!0},I(p.Z,{basic:!0},I(d.Z,{color:"teal",fluid:!0},e.picUrl&&I(f.Z,{src:e.picUrl,style:{cursor:"pointer"},floated:"left",wrapped:!0,ui:!1,alt:"PostImage",onClick:function(){return setShowModal(!0)}}),I(d.Z.Content,null,I(f.Z,{floated:"left",src:e.user.profilePicUrl,avatar:!0,circular:!0}),I(d.Z.Header,null,I(k.default,{href:"/".concat(e.user.username)},I("a",null,e.user.name))),I(d.Z.Meta,null,(0,w.Z)(e.createdAt)),e.location&&I(d.Z.Meta,{content:e.location}),I(d.Z.Description,{style:{fontSize:"17px",letterSpacing:"0.1px",wordSpacing:"0.35px"}},e.text)),I(d.Z.Content,{extra:!0},I(h.Z,{name:s?"heart":"heart outline",color:"red",style:{cursor:"pointer"},onClick:function(){return(0,v.n9)(e._id,r._id,u,!s)}}),I(g.Z,{postId:e._id,trigger:a.length>0&&I("span",{className:"spanLikesList"},"".concat(a.length," ").concat(1===a.length?"like":"likes"))}),I(h.Z,{name:"comment outline",style:{marginLeft:"7px"},color:"blue"}),x.length>0&&x.map((function(t){return I(Z.Z,{key:t._id,comment:t,postId:e._id,user:r,setComments:C})})),I(m.Z,{hidden:!0}),I(_.Z,{user:r,postId:e._id,setComments:C})))),I(m.Z,{hidden:!0}))}b.getInitialProps=function(){var t=(0,a.Z)(o().mark((function t(e){var n,r,a,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.query.postId,r=(0,c.parseCookies)(e),a=r.token,t.next=5,s().get("".concat(C(),"/api/posts/").concat(n),{headers:{Authorization:a}});case 5:return i=t.sent,t.abrupt("return",{post:i.data});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{errorLoading:!0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.default=b},87429:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[postId]",function(){return n(36103)}])}},function(t){t.O(0,[885,662,654,134,389,911,9,774,888,179],(function(){return e=87429,t(t.s=e);var e}));var e=t.O();_N_E=e}]);