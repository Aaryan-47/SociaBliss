(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{96156:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},81694:function(e,t,n){"use strict";var r=n(67294),o=n(19909),a=n(416),l=n(48237),i=n(60345),c=n(68788),u=r.createElement;t.Z=function(e){var t=e.user,n=t.bio,s=t.facebook,f=t.instagram,p=t.youtube,d=t.twitter,g=e.handleChange,m=e.showSocialLinks,h=e.setShowSocialLinks;return u(r.Fragment,null,u(o.Z.Field,{required:!0,control:a.Z,name:"bio",value:n,onChange:g,placeholder:"bio"}),u(l.Z,{content:"Add Social Links",color:"red",icon:"at",type:"button",onClick:function(){return h(!m)}}),m&&u(r.Fragment,null,u(i.Z,null),u(o.Z.Input,{icon:"facebook f",iconPosition:"left",name:"facebook",value:s,onChange:g}),u(o.Z.Input,{icon:"twitter",iconPosition:"left",name:"twitter",value:d,onChange:g}),u(o.Z.Input,{icon:"instagram",iconPosition:"left",name:"instagram",value:f,onChange:g}),u(o.Z.Input,{icon:"youtube",iconPosition:"left",name:"youtube",value:p,onChange:g}),u(c.Z,{icon:"attention",info:!0,size:"small",header:"Social Media Links Are Optional!"})))}},41911:function(e,t,n){"use strict";var r=n(67294),o=n(39445),a=n(65382),l=n(76763),i=n(19909),c=n(35766),u=n(11163),s=r.createElement;t.Z=function(e){var t=e.highlighted,n=e.setHighlighted,f=e.inputRef,p=e.handleChange,d=e.mediaPreview,g=e.setMediaPreview,m=e.setMedia,h=e.profilePicUrl,Z="/signup"===(0,u.useRouter)().pathname;return s(r.Fragment,null,s(i.Z.Field,null,s(c.Z,{placeholder:!0,basic:!0,secondary:!0},s("input",{style:{display:"none"},type:"file",accept:"image/*",onChange:p,name:"media",ref:f}),s("div",{onDragOver:function(e){e.preventDefault(),n(!0)},onDragLeave:function(e){e.preventDefault(),n(!1)},onDrop:function(e){e.preventDefault(),n(!0);var t=Array.from(e.dataTransfer.files);m(t[0]),g(URL.createObjectURL(t[0]))}},null===d?s(r.Fragment,null,s(c.Z,{color:t?"green":"",placeholder:!0,basic:!0},Z?s(r.Fragment,null,s(o.Z,{icon:!0},s(a.Z,{name:"file image outline",style:{cursor:"pointer"},onClick:function(){return f.current.click()},size:"huge"}),"Drag n Drop or Click to upload image")):s("span",{style:{textAlign:"center"}},s(l.Z,{src:h,alt:"Profile pic",style:{cursor:"pointer"},onClick:function(){return f.current.click()},size:"huge",centered:!0}),"Drag n Drop or Click to upload image"))):s(c.Z,{color:"green",placeholder:!0,basic:!0},s(l.Z,{src:d,size:"medium",centered:!0,style:{cursor:"pointer"},onClick:function(){return f.current.click()}}))))))}},49748:function(e,t,n){"use strict";n.d(t,{g0:function(){return l}});var r=n(67294),o=n(61409),a=r.createElement,l=function(){return a(o.Ix,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1},o.Am.info("Deleted Successfully",{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0}))}},20705:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(80018),o=n(67294),a=n(345),l=n(35766),i=n(73626),c=n(76763),u=n(92990),s=n(39445),f=n(48237),p=n(65382),d=n(60345),g=n(86778),m=n(60139),h=n(41715),Z=n(41664),w=n(67037),v=n(21309),b=n(14309),k=o.createElement;var y=function(e){var t=e.post,n=e.user,r=e.setLikes,l=e.likes,u=e.isLiked,s=e.comments,f=e.setComments;return k(o.Fragment,null,k(b.Z,{columns:2,stackable:!0,relaxed:!0},k(b.Z.Column,null,k(a.Z.Content,{image:!0},k(c.Z,{wrapped:!0,size:"large",src:t.picUrl}))),k(b.Z.Column,null,k(i.Z,{fluid:!0},k(i.Z.Content,null,k(c.Z,{floated:"left",avatar:!0,src:t.user.profilePicUrl}),k(i.Z.Header,null,k(Z.default,{href:"/".concat(t.user.username)},k("a",null,t.user.name))),k(i.Z.Meta,null,(0,h.Z)(t.createdAt)),t.location&&k(i.Z.Meta,{content:t.location}),k(i.Z.Description,{style:{fontSize:"17px",letterSpacing:"0.1px",wordSpacing:"0.35px"}},t.text)),k(i.Z.Content,{extra:!0},k(p.Z,{name:u?"heart":"heart outline",color:"red",style:{cursor:"pointer"},onClick:function(){return(0,w.n9)(t._id,n._id,r,!u)}}),k(v.Z,{postId:t._id,trigger:l.length>0&&k("span",{className:"spanLikesList"},"".concat(l.length," ").concat(1===l.length?"like":"likes"))}),k(d.Z,{hidden:!0}),k("div",{style:{overflow:"auto",height:s.length>2?"200px":"60px",marginBottom:"8px"}},s.length>0&&s.map((function(e){return k(g.Z,{key:e._id,comment:e,postId:t._id,user:n,setComments:f})}))),k(m.Z,{postId:t._id,user:n,setComments:f}))))))},P=o.createElement;var C=function(e){var t=e.post,n=e.user,r=e.setLikes,o=e.likes,a=e.isLiked,l=e.comments,u=e.setComments;return P(i.Z,{fluid:!0},P(i.Z.Content,null,P(c.Z,{floated:"left",avatar:!0,src:t.user.profilePicUrl}),P(i.Z.Header,null,P(Z.default,{href:"/".concat(t.user.username)},P("a",null,t.user.name))),P(i.Z.Meta,null,(0,h.Z)(t.createdAt)),t.location&&P(i.Z.Meta,{content:t.location}),P(i.Z.Description,{style:{fontSize:"17px",letterSpacing:"0.1px",wordSpacing:"0.35px"}},t.text)),P(i.Z.Content,{extra:!0},P(p.Z,{name:a?"heart":"heart outline",color:"red",style:{cursor:"pointer"},onClick:function(){return(0,w.n9)(t._id,n._id,r,!a)}}),P(v.Z,{postId:t._id,trigger:o.length>0&&P("span",{className:"spanLikesList"},"".concat(o.length," ").concat(1===o.length?"like":"likes"))}),P(d.Z,{hidden:!0}),P("div",{style:{overflow:"auto",height:l.length>2?"200px":"60px",marginBottom:"8px"}},l.length>0&&l.map((function(e){return P(g.Z,{key:e._id,comment:e,postId:t._id,user:n,setComments:u})}))),P(m.Z,{postId:t._id,user:n,setComments:u})))},S=o.createElement;var x=function(e){var t=e.post,n=e.user,b=e.setPosts,k=e.setShowToastr,P=e.socket,x=(0,o.useState)(t.likes),O=x[0],_=x[1],I=O.length>0&&O.filter((function(e){return e.user===n._id})).length>0,F=(0,o.useState)(t.comments),E=F[0],L=F[1],U=(0,o.useState)(null),j=(U[0],U[1],(0,o.useState)(!1)),D=j[0],A=j[1],N=function(){return{post:t,user:n,setLikes:_,likes:O,isLiked:I,comments:E,setComments:L}};return S(o.Fragment,null,D&&S(a.Z,{open:D,closeIcon:!0,closeOnDimmerClick:!0,onClose:function(){return A(!1)}},S(a.Z.Content,null,t.picUrl?S(y,N()):S(C,N()))),S(l.Z,{basic:!0},S(i.Z,{color:"teal",fluid:!0},t.picUrl&&S(c.Z,{src:t.picUrl,style:{cursor:"pointer"},floated:"left",wrapped:!0,ui:!1,alt:"PostImage",onClick:function(){return A(!0)}}),S(i.Z.Content,null,S(c.Z,{floated:"left",src:t.user.profilePicUrl,avatar:!0,circular:!0}),("root"===n.role||t.user._id===n._id)&&S(o.Fragment,null,S(u.Z,{on:"click",position:"top right",trigger:S(c.Z,{src:"/deleteIcon.svg",style:{cursor:"pointer"},size:"mini",floated:"right"})},S(s.Z,{as:"h4",content:"Are you sure?"}),S("p",null,"This action is irreversible!"),S(f.Z,{color:"red",icon:"trash",content:"Delete",onClick:function(){return(0,w.fR)(t._id,b,k)}}))),S(i.Z.Header,null,S(Z.default,{href:"/".concat(t.user.username)},S("a",null,t.user.name))),S(i.Z.Meta,null,(0,h.Z)(t.createdAt)),t.location&&S(i.Z.Meta,{content:t.location}),S(i.Z.Description,{style:{fontSize:"17px",letterSpacing:"0.1px",wordSpacing:"0.35px"}},t.text)),S(i.Z.Content,{extra:!0},S(p.Z,{name:I?"heart":"heart outline",color:"red",style:{cursor:"pointer"},onClick:function(){P.current?(P.current.emit("likePost",{postId:t._id,userId:n._id,like:!I}),P.current.on("PostLiked",(function(){_(I?function(e){return e.filter((function(e){return e.user!==n._id}))}:function(e){return[].concat((0,r.Z)(e),[{user:n._id}])})}))):(0,w.n9)(t._id,n._id,_,!I)}}),S(v.Z,{postId:t._id,trigger:O.length>0&&S("span",{className:"spanLikesList"},"".concat(O.length," ").concat(1===O.length?"like":"likes"))}),S(p.Z,{name:"comment outline",style:{marginLeft:"7px"},color:"blue"}),E.length>0&&E.map((function(e,r){return r<3&&S(g.Z,{key:e._id,comment:e,postId:t._id,user:n,setComments:L})})),E.length>3&&S(f.Z,{content:"View More",color:"teal",basic:!0,circular:!0,onClick:function(){return A(!0)}}),S(d.Z,{hidden:!0}),S(m.Z,{user:n,postId:t._id,setComments:L})))),S(d.Z,{hidden:!0}))}},25761:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var r=n(87757),o=n.n(r),a=n(92137),l=n(67294),i=n(11163),c=n(9669),u=n.n(c),s=n(94953),f=n.n(s),p=n(62286),d=n(14309),g=n(26048),m=n(20705),h=n(36808),Z=n.n(h),w=n(30899),v=n(90284),b=l.createElement;var k=function(e){var t=e.activeItem,n=e.handleItemClick,r=e.followersLength,o=e.followingLength,a=e.ownAccount,i=e.loggedUserFollowStats;return b(l.Fragment,null,b(v.Z,{pointing:!0,secondary:!0},b(v.Z.Item,{name:"profile",active:"profile"===t,onClick:function(){return n("profile")}}),b(v.Z.Item,{name:"".concat(r," followers"),active:"followers"===t,onClick:function(){return n("followers")}}),a?b(l.Fragment,null,b(v.Z.Item,{name:"".concat(i.following.length>0?i.following.length:0," following"),active:"following"===t,onClick:function(){return n("following")}}),b(v.Z.Item,{name:"Update Profile",active:"updateProfile"===t,onClick:function(){return n("updateProfile")}}),b(v.Z.Item,{name:"settings",active:"settings"===t,onClick:function(){return n("settings")}})):b(v.Z.Item,{name:"".concat(o," following"),active:"following"===t,onClick:function(){return n("following")}})))},y=n(35766),P=n(39445),C=n(60345),S=n(59574),x=n(76763),O=n(48237),_=n(8145),I=l.createElement;var F=function(e){var t=e.profile,n=e.ownAccount,r=e.loggedUserFollowStats,i=e.setUserFollowStats,c=(0,l.useState)(!1),u=c[0],s=c[1],f=r.following.length>0&&r.following.filter((function(e){return e.user===t.user._id})).length>0;return I(l.Fragment,null,I(y.Z,null,I(d.Z,{stackable:!0},I(d.Z.Column,{width:11},I(d.Z.Row,null,I(P.Z,{as:"h2",content:t.user.name,style:{marginBottom:"5px"}})),I(d.Z.Row,{stretched:!0},t.bio,I(C.Z,{hidden:!0})),I(d.Z.Row,null,t.social?I(S.Z,null,I(S.Z.Item,null,I(S.Z.Icon,{name:"mail"}),I(S.Z.Content,{content:t.user.email})),t.social.facebook&&I(S.Z.Item,null,I(S.Z.Icon,{name:"facebook",color:"blue"}),I(S.Z.Content,{style:{color:"blue"},content:t.social.facebook})),t.social.instagram&&I(S.Z.Item,null,I(S.Z.Icon,{name:"instagram",color:"red"}),I(S.Z.Content,{style:{color:"blue"},content:t.social.instagram})),t.social.youtube&&I(S.Z.Item,null,I(S.Z.Icon,{name:"youtube",color:"red"}),I(S.Z.Content,{style:{color:"blue"},content:t.social.youtube})),t.social.twitter&&I(S.Z.Item,null,I(S.Z.Icon,{name:"twitter",color:"blue"}),I(S.Z.Content,{style:{color:"blue"},content:t.social.twitter}))):I(l.Fragment,null,"No Social Media Links "))),I(d.Z.Column,{width:5,stretched:!0,style:{textAlign:"center"}},I(d.Z.Row,null,I(x.Z,{size:"large",avatar:!0,src:t.user.profilePicUrl})),I("br",null),!n&&I(O.Z,{compact:!0,loading:u,disabled:u,content:f?"Following":"Follow",icon:f?"check circle":"add user",color:f?"instagram":"twitter",onClick:(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s(!0),!f){e.next=6;break}return e.next=4,(0,_.F6)(t.user._id,i);case 4:e.next=8;break;case 6:return e.next=8,(0,_.P_)(t.user._id,i);case 8:s(!1);case 9:case"end":return e.stop()}}),e)})))})))))},E=l.createElement,L=function(){return E("div",{className:"mySpinner"})},U=l.createElement,j=function(e){var t=e.user,n=e.loggedUserFollowStats,r=e.setUserFollowStats,i=e.profileUserId,c=(0,l.useState)([]),s=c[0],p=c[1],d=(0,l.useState)(!1),m=d[0],h=d[1],w=(0,l.useState)(!1),v=w[0],b=w[1];return(0,l.useEffect)((function(){(function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,u().get("".concat(f(),"/api/profile/followers/").concat(i),{headers:{Authorization:Z().get("token")}});case 4:t=e.sent,p(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error Loading Followers");case 11:h(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),U(l.Fragment,null,m?U(L,null):s.length>0?s.map((function(e){var o=n.following.length>0&&n.following.filter((function(t){return t.user===e.user._id})).length>0;return U(S.Z,{key:e.user._id,divided:!0,verticalAlign:"middle"},U(S.Z.Item,null,U(S.Z.Content,{floated:"right"},e.user._id!==t._id&&U(O.Z,{color:o?"instagram":"twitter",icon:o?"check":"add user",content:o?"Following":"Follow",disabled:v,onClick:function(){b(!0),o?(0,_.F6)(e.user._id,r):(0,_.P_)(e.user._id,r),b(!1)}})),U(x.Z,{avatar:!0,src:e.user.profilePicUrl}),U(S.Z.Content,{as:"a",href:"/".concat(e.user.username)},e.user.name)))})):U(g.Mv,{followersComponent:!0}))},D=l.createElement,A=function(e){var t=e.user,n=e.loggedUserFollowStats,r=e.setUserFollowStats,i=e.profileUserId,c=(0,l.useState)([]),s=c[0],p=c[1],d=(0,l.useState)(!1),m=d[0],h=d[1],w=(0,l.useState)(!1),v=w[0],b=w[1];return(0,l.useEffect)((function(){(function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,u().get("".concat(f(),"/api/profile/following/").concat(i),{headers:{Authorization:Z().get("token")}});case 4:t=e.sent,p(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert("Error Loading Followers");case 11:h(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),D(l.Fragment,null,m?D(L,null):s.length>0?s.map((function(e){var o=n.following.length>0&&n.following.filter((function(t){return t.user===e.user._id})).length>0;return D(S.Z,{key:e.user._id,divided:!0,verticalAlign:"middle"},D(S.Z.Item,null,D(S.Z.Content,{floated:"right"},e.user._id!==t._id&&D(O.Z,{color:o?"instagram":"twitter",icon:o?"check":"add user",content:o?"Following":"Follow",disabled:v,onClick:function(){b(!0),o?(0,_.F6)(e.user._id,r):(0,_.P_)(e.user._id,r),b(!1)}})),D(x.Z,{avatar:!0,src:e.user.profilePicUrl}),D(S.Z.Content,{as:"a",href:"/".concat(e.user.username)},e.user.name)))})):D(g.Mv,{followingComponent:!0}))},N=n(96156),z=n(19909),M=n(68788),R=n(41911),T=n(81694),G=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("file",t),n.append("upload_preset","social_media"),n.append("cloud_name","dqay3zx6n"),e.next=7,u().post("api.cloudinary.com/v1_1/dqay3zx6n/image/upload",n);case 7:return r=e.sent,e.abrupt("return",r.data.url);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),H=l.createElement;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.Profile,n=(0,l.useState)({profilePicUrl:t.user.profilePicUrl,bio:t.bio||"",facebook:t.social&&t.social.facebook||"",youtube:t.social&&t.social.youtube||"",instagram:t.social&&t.social.instagram||"",twitter:t.social&&t.social.twitter||""}),r=n[0],i=n[1],c=(0,l.useState)(null),u=c[0],s=c[1],f=(0,l.useState)(!1),p=f[0],d=f[1],g=(0,l.useState)(!1),m=g[0],h=g[1],Z=(0,l.useState)(!1),w=Z[0],v=Z[1],b=(0,l.useRef)(),k=(0,l.useState)(null),y=k[0],P=k[1],S=(0,l.useState)(null),x=S[0],I=S[1],F=function(e){var t=e.target,n=t.name,r=t.value,o=t.files;"media"===n&&(P(o[0]),I(URL.createObjectURL(o[0]))),i((function(e){return K(K({},e),{},(0,N.Z)({},n,r))}))};return H(l.Fragment,null,H(z.Z,{error:null!==u,loading:p,onSubmit:function(){var e=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d(!0),null===y){e.next=6;break}return e.next=5,G(y);case 5:n=e.sent;case 6:if(null===y||n){e.next=9;break}return d(!1),e.abrupt("return",s("Error Uploading Image"));case 9:return e.next=11,(0,_.k6)(r,d,s,n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H(M.Z,{onDismiss:function(){return s(!1)},error:!0,content:u,attached:!0,header:"Oops!"}),H(R.Z,{inputRef:b,highlighted:w,setHighlighted:v,handleChange:F,mediaPreview:x,setMediaPreview:I,setMedia:P,profilePicUrl:r.profilePicUrl}),H(T.Z,{user:r,handleChange:F,showSocialLinks:m,setShowSocialLinks:h}),H(C.Z,{hidden:!0}),H(O.Z,{color:"blue",icon:"pencil alternate",disabled:""===r.bio||p,content:"Submit",type:"submit"})))},X=n(31719),Q=l.createElement;function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){var t=e.setSuccess,n=e.showPasswordFields,r=(0,l.useState)(!1),i=r[0],c=r[1],u=(0,l.useState)(null),s=u[0],f=u[1],p=(0,l.useState)({currentPassword:"",newPassword:""}),d=p[0],g=p[1],m=(0,l.useState)({field1:!1,field2:!1}),h=m[0],Z=m[1],w=h.field1,v=h.field2,b=d.currentPassword,k=d.newPassword,y=function(e){var t=e.target,n=t.name,r=t.value;g((function(e){return J(J({},e),{},(0,N.Z)({},n,r))}))};return(0,l.useEffect)((function(){s&&setTimeout((function(){return f(null)}),5e3)}),[s]),Q(l.Fragment,null,Q(z.Z,{error:null!==s,loading:i,onSubmit:function(){var e=(0,a.Z)(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c(!0),e.next=4,(0,_.QP)(t,d);case 4:c(!1),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q(S.Z.List,null,Q(S.Z.Item,null,Q(z.Z.Input,{fluid:!0,icon:{name:"eye",circular:!0,link:!0,onClick:function(){return Z((function(e){return J(J({},e),{},{field1:!w})}))}},type:w?"text":"password",iconPosition:"left",label:"Current Password",placeholder:"Enter current Password",name:"currentPassword",onChange:y,value:b}),Q(z.Z.Input,{fluid:!0,icon:{name:"eye",circular:!0,link:!0,onClick:function(){return Z((function(e){return J(J({},e),{},{field2:!v})}))}},type:v?"text":"password",iconPosition:"left",label:"New Password",placeholder:"Enter New Password",name:"newPassword",onChange:y,value:k}),Q(O.Z,{disabled:i||""===b||""===k,compact:!0,icon:"configure",type:"submit",color:"teal",content:"Confirm"}),Q(O.Z,{disabled:i,compact:!0,icon:"cancel",type:"button",content:"Cancel",onClick:function(){return n(!1)}}),Q(M.Z,{icon:"meh",error:!0,header:"Oops!",content:s})))),Q(C.Z,{hidden:!0}))},Y=function(e){var t=e.newMessagePopup,n=(0,l.useState)(!1),r=n[0],o=n[1],a=(0,l.useState)(!1),i=a[0],c=a[1],u=(0,l.useRef)(!0),s=(0,l.useState)(t),f=s[0],p=s[1],d=(0,l.useState)(!1),g=d[0],m=d[1];return(0,l.useEffect)((function(){g&&setTimeout((function(){return m(!1)}),3e3)}),[g]),(0,l.useEffect)((function(){u.current&&(u.current=!1)}),[f]),Q(l.Fragment,null,g&&Q(l.Fragment,null,Q(M.Z,{success:!0,icon:"check circle",header:"Updated Successfully"}),Q(C.Z,{hidden:!0})),Q(S.Z,{size:"huge",animated:!0},Q(S.Z.Item,null,Q(S.Z.Icon,{name:"user secret",size:"large",verticalAlign:"middle"}),Q(S.Z.Content,null,Q(S.Z.Header,{onClick:function(){return o(!r)},as:"a",content:"Update Password"})),r&&Q(W,{setSuccess:m,showPasswordFields:o})),Q(C.Z,null),Q(S.Z.Item,null,Q(S.Z.Icon,{name:"paper plane outline",size:"large",verticalAlign:"middle"}),Q(S.Z.Content,null,Q(S.Z.Header,{onClick:function(){return c(!i)},as:"a",content:"Show New Message Popup?"})),Q("div",{style:{marginTop:"10px"}},"Control whether a Popup should appear when there is a New Message or not.",Q("br",null),Q("br",null),Q(X.Z,{checked:f,toggle:!0,onChange:function(){return(0,_.jS)(f,p,m)}}))),Q(C.Z,null)))},$=n(49748),ee=l.createElement;function te(e){var t=e.errorLoading,n=e.profile,r=e.followersLength,c=e.followingLength,s=e.user,p=e.userFollowStats,h=(0,i.useRouter)(),v=(0,l.useState)([]),b=v[0],y=v[1],P=(0,l.useState)(!1),C=P[0],S=P[1],x=(0,l.useState)(!1),O=x[0],_=x[1],I=(0,l.useState)("profile"),E=I[0],L=I[1],U=(0,l.useState)(p),D=U[0],N=U[1],z=n.user._id===s._id;return t?ee(g.HI,null):((0,l.useEffect)((function(){(function(){var e=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,t=h.query.username,e.next=5,u().get("".concat(f(),"/api/profile/posts/").concat(t),{headers:{Authorization:Z().get("token")}});case 5:n=e.sent,y(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),alert("Error Loading Posts");case 12:S(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[h.query.username]),(0,l.useEffect)((function(){O&&setTimeout((function(){return _(!1)}),4e3)}),[O]),ee(l.Fragment,null,O&&ee($.g0,null),ee(d.Z,{stackable:!0},ee(d.Z.Row,null,ee(d.Z.Column,null,ee(k,{activeItem:E,handleItemClick:function(e){return L(e)},followersLength:r,followingLength:c,ownAccount:z,loggedUserFollowStats:D}))),ee(d.Z.Row,null,ee(d.Z.Column,null,"profile"===E&&ee(l.Fragment,null,ee(F,{profile:n,ownAccount:z,loggedUserFollowStats:D,setUserFollowStats:N}),C?ee(w.pj,null):b.length>0?b.map((function(e){return ee(m.Z,{key:e._id,post:e,user:s,setPosts:y,setShowToastr:_})})):ee(g.AR,null)),"followers"===E&&ee(j,{user:s,loggedUserFollowStats:D,setUserFollowStats:N,profileUserId:n.user._id}),"following"===E&&ee(A,{user:s,loggedUserFollowStats:D,setUserFollowStats:N,profileUserId:n.user._id}),"updateProfile"===E&&ee(B,{Profile:n}),"settings"===E&&ee(Y,{newMessagePopup:s.newMessagePopup}))))))}te.getInitialProps=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r,a,l,i,c,s,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.query.username,r=(0,p.parseCookies)(t),a=r.token,e.next=5,u().get("".concat(f(),"/api/profile/").concat(n),{headers:{Authorization:a}});case 5:return l=e.sent,i=l.data,c=i.profile,s=i.followersLength,d=i.followingLength,e.abrupt("return",{profile:c,followersLength:s,followingLength:d});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{errorLoading:!0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();var ne=te},8145:function(e,t,n){"use strict";n.d(t,{P_:function(){return v},F6:function(){return b},k6:function(){return k},QP:function(){return y},jS:function(){return P}});var r=n(87757),o=n.n(r),a=n(80018),l=n(96156),i=n(92137),c=n(9669),u=n.n(c),s=n(94953),f=n.n(s),p=n(43844),d=n(36808),g=n.n(d),m=n(11163);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=u().create({baseURL:"".concat(f(),"/api/profile"),headers:{Authorization:g().get("token")}}),v=function(){var e=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/follow/".concat(t));case 3:n((function(e){return Z(Z({},e),{},{following:[].concat((0,a.Z)(e.following),[{user:t}])})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert((0,p.Z)(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.put("/unfollow/".concat(t));case 3:n((function(e){return Z(Z({},e),{},{following:e.following.filter((function(e){return e.user!==t}))})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert((0,p.Z)(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)(o().mark((function e(t,n,r,a){var l,i,c,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=t.bio,i=t.facebook,c=t.youtube,u=t.twitter,s=t.instagram,e.next=4,w.post("/update",{bio:l,facebook:i,youtube:c,twitter:u,instagram:s,profilePicUrl:a});case 4:n(!1),m.default.reload(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r((0,p.Z)(e.t0)),n(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,o){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)(o().mark((function e(t,n){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentPassword,a=n.newPassword,e.prev=1,e.next=4,w.post("/settings/password",{currentPassword:r,newPassword:a});case 4:t(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),alert((0,p.Z)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=(0,i.Z)(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/settings/messagePopup");case 3:n(!t),r(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert((0,p.Z)(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}()},75080:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[username]",function(){return n(25761)}])},39445:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(22122),o=n(86010),a=(n(45697),n(67294)),l=n(95929),i=n(28935),c=n(12519),u=n(92248),s=n(65382),f=n(76763),p=n(21826);function d(e){var t=e.children,n=e.className,l=e.content,s=(0,o.Z)("sub header",n),f=(0,i.Z)(d,e),p=(0,c.Z)(d,e);return a.createElement(p,(0,r.Z)({},f,{className:s}),u.kK(t)?l:t)}d.handledProps=["as","children","className","content"],d.propTypes={},d.create=(0,p.u5)(d,(function(e){return{content:e}}));var g=d;function m(e){var t=e.children,n=e.className,l=e.content,s=(0,o.Z)("content",n),f=(0,i.Z)(m,e),p=(0,c.Z)(m,e);return a.createElement(p,(0,r.Z)({},f,{className:s}),u.kK(t)?l:t)}m.handledProps=["as","children","className","content"],m.propTypes={};var h=m;function Z(e){var t=e.attached,n=e.block,p=e.children,d=e.className,m=e.color,w=e.content,v=e.disabled,b=e.dividing,k=e.floated,y=e.icon,P=e.image,C=e.inverted,S=e.size,x=e.sub,O=e.subheader,_=e.textAlign,I=(0,o.Z)("ui",m,S,(0,l.lG)(n,"block"),(0,l.lG)(v,"disabled"),(0,l.lG)(b,"dividing"),(0,l.cD)(k,"floated"),(0,l.lG)(!0===y,"icon"),(0,l.lG)(!0===P,"image"),(0,l.lG)(C,"inverted"),(0,l.lG)(x,"sub"),(0,l.sU)(t,"attached"),(0,l.X4)(_),"header",d),F=(0,i.Z)(Z,e),E=(0,c.Z)(Z,e);if(!u.kK(p))return a.createElement(E,(0,r.Z)({},F,{className:I}),p);var L=s.Z.create(y,{autoGenerateKey:!1}),U=f.Z.create(P,{autoGenerateKey:!1}),j=g.create(O,{autoGenerateKey:!1});return L||U?a.createElement(E,(0,r.Z)({},F,{className:I}),L||U,(w||j)&&a.createElement(h,null,w,j)):a.createElement(E,(0,r.Z)({},F,{className:I}),w,j)}Z.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],Z.propTypes={},Z.Content=h,Z.Subheader=g;var w=Z}},function(e){e.O(0,[885,662,654,134,389,911,922,9,774,888,179],(function(){return t=75080,e(e.s=t);var t}));var t=e.O();_N_E=t}]);